# Задача 008: Correlator — синтез findings в карту

## Цель
Реализовать Correlator — ядро PROBE, которое собирает findings от всех зондов и генерирует Product Map.

## Что Correlator делает

1. **PARSE** — читает все JSON из findings/
2. **NORMALIZE** — группирует findings по entity (один эндпоинт = одно досье)
3. **ENRICH** — обогащает досье: объединяет данные от разных зондов
4. **SYNTHESIZE** — генерирует markdown-документ Product Map

## На первом этапе (только test-среда)

Correlator работает внутри одной среды. Кросс-средовые diff'ы — потом.

Группировка: все findings с entity="POST /api/v1/movements" → одно досье.
Обогащение: этот эндпоинт тестируется 5 раз, ожидает статусы 201/400/401/409, требует Bearer auth, тело содержит поля {itemId, quantity, movementType}.

## Формат Product Map (markdown)

```markdown
# Product Map: <project_name>
Источник: RestAssured тесты
Зондов: X, findings: Y, время: Z сек

## API Surface
Таблица: эндпоинт | методы | тестов | статусы | auth

## Бизнес-правила
Нумерованный список R01, R02... с источником

## Workflows
Именованные последовательности шагов

## Ролевая модель
Матрица: роль → доступные эндпоинты

## Тестовые данные
Используемые ID, значения enum, справочные данные

## Белые пятна
Что не покрыто тестами
```

## Шаги

1. Реализовать загрузку findings из директории
2. Группировка по entity
3. Генерация секций Product Map
4. Сохранение в product-map.md
5. Интеграция в CLI: `probe map --findings ./findings/ --out product-map.md`

## Критерий готовности

- Читает findings от всех реализованных зондов
- Генерирует связный markdown-документ
- Документ содержит все секции
- Интегрирован в CLI
